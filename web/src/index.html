<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edge Detection Viewer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üé® Edge Detection Viewer</h1>
            <p>Real-time frame viewer from Android App</p>
        </header>

        <div class="controls">
            <div class="button-group">
                <button id="connectBtn" class="btn btn-primary">Connect to Android</button>
                <button id="disconnectBtn" class="btn btn-secondary" disabled>Disconnect</button>
                <label for="fileInput" class="btn btn-upload">
                    üìÅ Load Static Image
                    <input type="file" id="fileInput" accept="image/*" style="display: none;">
                </label>
            </div>
            
            <div class="connection-status">
                <span id="statusIndicator" class="status-dot disconnected"></span>
                <span id="statusText">Disconnected</span>
            </div>
        </div>

        <div class="viewer-container">
            <div class="frame-display">
                <canvas id="frameCanvas"></canvas>
                <div id="placeholder" class="placeholder">
                    <div class="placeholder-icon">üì∏</div>
                    <p>Waiting for frames...</p>
                    <small>Connect to Android app or load a static image</small>
                </div>
            </div>

            <div class="stats-panel">
                <h3>Frame Statistics</h3>
                <div class="stat-item">
                    <span class="stat-label">FPS:</span>
                    <span id="fps" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Resolution:</span>
                    <span id="resolution" class="stat-value">0 x 0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Processing Time:</span>
                    <span id="processingTime" class="stat-value">0 ms</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Frames Received:</span>
                    <span id="frameCount" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Connection:</span>
                    <span id="connectionType" class="stat-value">None</span>
                </div>
            </div>
        </div>

        <div class="logs">
            <h3>Activity Log</h3>
            <div id="logContainer" class="log-container"></div>
        </div>

        <footer>
            <p>WebSocket Server: <code id="serverAddress">ws://localhost:8765</code></p>
            <input type="text" id="serverInput" placeholder="ws://your-phone-ip:8765" />
            <button id="updateServer" class="btn btn-small">Update</button>
        </footer>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>